(this.webpackJsonplab6=this.webpackJsonplab6||[]).push([[0],{16:function(e,t,a){},34:function(e,t,a){e.exports=a(73)},39:function(e,t,a){},40:function(e,t,a){},69:function(e,t){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),s=a(32),c=a.n(s),i=(a(39),a(2)),o=a(3),m=a(5),u=a(4),d=a(6),h=(a(40),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Login"},l.a.createElement("form",{onSubmit:this.props.login},l.a.createElement("p",null,"\u0412\u0445\u043e\u0434 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443:"),l.a.createElement("p",{id:"warning"},this.props.message),l.a.createElement("input",{size:"24",name:"name",id:"password",type:"text",placeholder:"\u0412\u0430\u0448 \u043d\u0438\u043a",title:'type "a"'}),l.a.createElement("p",null,l.a.createElement("button",{id:"a"},"\u0412\u043e\u0439\u0442\u0438")," ")))}}]),t}(l.a.Component)),E=(a(16),function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Admin"},l.a.createElement("h2",null,l.a.createElement("table",{className:"table"},l.a.createElement("tr",null,l.a.createElement("th",{className:"th1"},"\u0411\u0418\u0420\u0416\u0410"),l.a.createElement("th",{className:"th2"},l.a.createElement("div",null,"\u041c\u0438\u0440"),l.a.createElement("div",null,"\u0418\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0439"))))),l.a.createElement("nav",{className:"one"},l.a.createElement("ul",null,l.a.createElement("li",null," Admin "))),l.a.createElement("p",null,l.a.createElement("button",{id:"a",onClick:this.props.start_torgs},"\u041d\u0430\u0447\u0430\u0442\u044c \u0442\u043e\u0440\u0433\u0438")," "),l.a.createElement("div",{className:"brokers"},function(e,t){for(var a=[],n=0;n<e.length;n++){var r=[];r.push(l.a.createElement("p",null," \u041d\u0438\u043a: ",e[n].name," ")),r.push(l.a.createElement("p",null," \u0414\u0435\u043d\u0435\u0436\u043d\u044b\u0435 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430: ",e[n].money," "));var s=[];s.push(l.a.createElement("tr",{id:"tr"},l.a.createElement("th",{id:"th"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438"),l.a.createElement("th",{id:"th"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u0435"),l.a.createElement("th",{id:"th"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u043a\u0446\u0438\u0438"),l.a.createElement("th",{id:"th"},"\u0410\u043a\u0446\u0438\u0439 \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443"),l.a.createElement("th",{id:"th"},"\u0417\u0430\u044f\u0432\u043b\u0435\u043d\u043d\u0430\u044f \u0446\u0435\u043d\u0430")));for(var c=0;c<e[n].stocks.length;c++)s.push(l.a.createElement("tr",null,l.a.createElement("td",{id:"td"},e[n].stocksName[c]),l.a.createElement("td",{id:"td"},e[n].stocks[c]),l.a.createElement("td",{id:"td"},e[n].price[c]),l.a.createElement("td",{id:"td"},e[n].ontorg_stocks[c]),l.a.createElement("td",{id:"td"},e[n].ontorg_price[c])));r.push(l.a.createElement("table",{id:"table"},s)),a.push(l.a.createElement("div",{className:"broker",key:e[n].id}," ",r))}return l.a.createElement("div",null,a)}(this.props.brokers,this.props.stocks)))}}]),t}(l.a.Component)),p=0,b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).sell=function(e){if(a.state.index>a.state.stocks.length)console.log(a.state.index,">",a.state.stocks.length);else{for(var t=a.state.brokers,n=0;n<t.length;n++)if(t[n].name===a.state.username&&a.state.count>t[n].stocks[a.state.index])return;a.props.sell(a.props.username,a.state.index,a.state.count)}},a.buy=function(e){var t=a.state.brokers;if(!(a.state.index>a.state.stocks.length)){for(var n=0;n<t.length;n++)if(t[n].name===a.state.username){if(a.state.count>a.state.stocks[a.state.index].in_torg)return;if(t[n].money<a.state.stocks[a.state.index].price*a.state.count)return}a.props.buy(a.props.username,a.state.index,a.state.count)}},a.get_index=function(e){a.setState({index:Number(e.target.value)})},a.get_count=function(e){a.setState({count:Number(e.target.value)})},a.state={username:e.username,brokers:e.brokers,stocks:e.stocks,count:0,index:0,pr:0},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"User"},l.a.createElement("h2",null,l.a.createElement("table",{className:"table"},l.a.createElement("tr",null,l.a.createElement("th",{className:"th1"},"\u0411\u0418\u0420\u0416\u0410"),l.a.createElement("th",{className:"th2"},l.a.createElement("div",null,"\u041c\u0438\u0440"),l.a.createElement("div",null,"\u0418\u043d\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0439"))))),l.a.createElement("nav",{className:"one"},l.a.createElement("ul",null,l.a.createElement("li",null," ",this.props.username," "))),l.a.createElement("div",{className:"info"},l.a.createElement("div",{className:"UserInfo"},this.get_info(this.props.username,this.props.brokers)),l.a.createElement("div",{className:"BrokerInfo"},this.get_torgs(this.props.stocks)),l.a.createElement("div",{className:"Sells"},l.a.createElement("div",{className:"Sell"},l.a.createElement("table",{id:"table1"},l.a.createElement("th",null,l.a.createElement("tr",null,l.a.createElement("th",{id:"th"},"id"),l.a.createElement("th",{id:"th"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e")),l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("input",{onChange:this.get_index})),l.a.createElement("th",null,l.a.createElement("input",{onChange:this.get_count})))),l.a.createElement("tr",{id:"bot"},l.a.createElement("button",{id:"a1",onClick:this.sell}," \u041f\u0440\u043e\u0434\u0430\u0442\u044c ")))),l.a.createElement("div",{className:"Buy"},l.a.createElement("table",{id:"table2"},l.a.createElement("th",null,l.a.createElement("tr",{id:"tr"},l.a.createElement("th",{id:"th"},"id"),l.a.createElement("th",{id:"th"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e")),l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("input",{onChange:this.get_index})),l.a.createElement("th",null,l.a.createElement("input",{onChange:this.get_count})))),l.a.createElement("tr",{id:"bot"},l.a.createElement("button",{id:"a1",onClick:this.buy}," \u041a\u0443\u043f\u0438\u0442\u044c ")))))))}},{key:"get_info",value:function(e,t){for(var a=0;a<t.length;a++)if(t[a].name===e){for(var n=[],r=t[a].money,s=0;s<t[a].stocks.length;s++)r+=t[a].stocks[s]*t[a].price[s];var c="";(p=r-t[a].sum)>=0&&(c="+"),n.push(l.a.createElement("div",{id:"Sum"},"\u041e\u0431\u0449\u0430\u044f \u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",r,l.a.createElement("p2",null,"(",c,p,")"))),n.push(l.a.createElement("p",null," \u0414\u0435\u043d\u0435\u0436\u043d\u044b\u0435 \u0441\u0442\u0440\u0435\u0434\u0441\u0442\u0432\u0430: ",t[a].money));var i=[];i.push(l.a.createElement("tr",null,l.a.createElement("th",{id:"th"},"id"),l.a.createElement("th",{id:"th"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438"),l.a.createElement("th",{id:"th"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432 \u043f\u043e\u0440\u0442\u0444\u0435\u043b\u0435"),l.a.createElement("th",{id:"th"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0434\u043d\u043e\u0439"),l.a.createElement("th",{id:"th"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u043a\u0446\u0438\u0439"),l.a.createElement("th",{id:"th"},"\u0410\u043a\u0446\u0438\u0439 \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u0436\u0443"),l.a.createElement("th",{id:"th"},"\u0417\u0430\u044f\u0432\u043b\u0435\u043d\u043d\u0430\u044f \u0446\u0435\u043d\u0430")));for(var o=0;o<t[a].stocks.length;o++)i.push(l.a.createElement("tr",null,l.a.createElement("td",{id:"td"},o),l.a.createElement("td",{id:"td"},t[a].stocksName[o]),l.a.createElement("td",{id:"td"},t[a].stocks[o]),l.a.createElement("td",{id:"td"},t[a].price[o]),l.a.createElement("td",{id:"td"},t[a].price[o]*t[a].stocks[o]),l.a.createElement("td",{id:"td"},t[a].ontorg_stocks[o]),l.a.createElement("td",{id:"td"},t[a].ontorg_price[o])));return n.push(l.a.createElement("table",{id:"table"},i)),l.a.createElement("div",{className:"broker"},n)}}},{key:"get_torgs",value:function(e){var t=[];t.push(l.a.createElement("tr",{id:"tr"},l.a.createElement("th",{id:"th"},"id"),l.a.createElement("th",{id:"th"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438"),l.a.createElement("th",{id:"th"},"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445"),l.a.createElement("th",{id:"th"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0430\u043a\u0446\u0438\u0438")));for(var a=0;a<e.length;a++)t.push(l.a.createElement("tr",null,l.a.createElement("td",{id:"td"},a),l.a.createElement("td",{id:"td"},e[a].name),l.a.createElement("td",{id:"td"},e[a].in_torg),l.a.createElement("td",{id:"td"},e[a].price)));return l.a.createElement("div",{className:"broker",id:"tt"},l.a.createElement("p",null," \u0420\u044b\u043d\u043e\u043a "),l.a.createElement("table",{id:"table"},t))}}]),t}(l.a.Component),g=a(33),f=(a(72),function(e){function t(){var e,a;Object(i.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={username:"Nobody",stocks:null,brokers:null,start_exchange:!1,message:""},a.login=function(e){e.preventDefault();var t=e.target.elements.name.value;console.log(t),(n=g("https://intense-fortress-72118.herokuapp.com")).on("connect",(function(){n.emit("login",{name:t})})),n.on("welcome",(function(e){a.setState({username:e.uname,message:e.message})})),n.on("update",(function(e){a.setState({stocks:e.stocks,brokers:e.persons})})),n.on("start_ex",(function(e){a.setState({start_exchange:!0}),console.log(a.state.username,a.state.start_exchange)}))},a.start_torgs=function(){n.emit("start")},a.sell=function(e,t,a){n.emit("sell",{name:e,index:t,count:a})},a.buy=function(e,t,a){console.log(e,t,a),n.emit("buy",{name:e,index:t,count:a})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},this.get_content())}},{key:"get_content",value:function(){return"Nobody"===this.state.username?l.a.createElement(h,{login:this.login,message:this.state.message}):"admin"===this.state.username?l.a.createElement(E,{brokers:this.state.brokers,start_torgs:this.start_torgs}):l.a.createElement(b,{brokers:this.state.brokers,username:this.state.username,stocks:this.state.stocks,sell:this.sell,buy:this.buy})}}]),t}(l.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(f,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.137695dc.chunk.js.map